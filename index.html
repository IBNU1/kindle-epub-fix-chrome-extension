<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EPUB Unicode Checker</title>
    <script src="https://unpkg.com/@zip.js/zip.js@2.5.17/dist/zip.min.js"></script>
    <script src="https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.css">
</head>
<body>
<h1>Amazon EPUB Fix</h1>
<p>
    Amazon Send-to-Kindle service has accepted EPUB, however, for historical reason
    it still assumes ISO-8859-1 encoding if no encoding is specified, even though all
    EPUB are supposed to be in UTF-8. This creates weird formatting errors for special characters.
</p>
<p>This tool will try to fix your EPUB by adding the UTF-8 specification to your EPUB. It currently does
    not fix other errors.</p>
<p><b>Warning: </b> This tool come at no warranty. Please still keep your original EPUB.
We don't guarantee the resulting file will be valid EPUB file, but it should.</p>

<h2>Select your EPUB</h2>
<form>
    <input id="file" type="file">
</form>
<div id="sys-error" style="display:none;color:red">The system encountered an error. Perhaps you are not selecting EPUB file?</div>
<div id="no-error" style="display:none;color:blue">No missing encoding detected. Perhaps there are other errors.</div>
<div id="has-error" style="display:none;color:green">
    Encoding fixed.
    <button id="btn">Download the fixed file.</button>
</div>

<script src="script.js"></script>
</body>
</html>